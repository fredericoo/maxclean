{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/frederico/nextjs/maxclean/pages/[uid].js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { pageToolbarDocs } from 'utils/prismicToolbarQueries';\nimport useUpdatePreviewRef from 'utils/hooks/useUpdatePreviewRef';\nimport useUpdateToolbarDocs from 'utils/hooks/useUpdateToolbarDocs';\nimport { Layout, SliceZone } from 'components';\n/**\n * posts component\n */\n\nvar Page = function Page(_ref) {\n  _s();\n\n  var doc = _ref.doc,\n      menu = _ref.menu,\n      lang = _ref.lang,\n      preview = _ref.preview;\n\n  if (doc && doc.data) {\n    useUpdatePreviewRef(preview, doc.id);\n    useUpdateToolbarDocs(pageToolbarDocs(doc.uid, preview.activeRef, doc.lang), [doc]);\n    return __jsx(Layout, {\n      altLangs: doc.alternate_languages,\n      lang: lang,\n      menu: menu,\n      isPreview: preview.isActive,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 7\n      }\n    }, __jsx(SliceZone, {\n      sliceZone: doc.data.body,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }\n    }));\n  }\n};\n\n_s(Page, \"WVAZUbuukr7PwlfasY2BCDrp+uQ=\", false, function () {\n  return [useUpdatePreviewRef, useUpdateToolbarDocs];\n});\n\n_c = Page;\nexport var __N_SSG = true;\nexport default Page;\n\nvar _c;\n\n$RefreshReg$(_c, \"Page\");","map":{"version":3,"sources":["/Users/frederico/nextjs/maxclean/pages/[uid].js"],"names":["React","pageToolbarDocs","useUpdatePreviewRef","useUpdateToolbarDocs","Layout","SliceZone","Page","doc","menu","lang","preview","data","id","uid","activeRef","alternate_languages","isActive","body"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,SAASC,eAAT,QAAgC,6BAAhC;AACA,OAAOC,mBAAP,MAAgC,iCAAhC;AACA,OAAOC,oBAAP,MAAiC,kCAAjC;AACA,SAASC,MAAT,EAAiBC,SAAjB,QAAkC,YAAlC;AAEA;AACA;AACA;;AACA,IAAMC,IAAI,GAAG,SAAPA,IAAO,OAAkC;AAAA;;AAAA,MAA/BC,GAA+B,QAA/BA,GAA+B;AAAA,MAA1BC,IAA0B,QAA1BA,IAA0B;AAAA,MAApBC,IAAoB,QAApBA,IAAoB;AAAA,MAAdC,OAAc,QAAdA,OAAc;;AAE7C,MAAIH,GAAG,IAAIA,GAAG,CAACI,IAAf,EAAqB;AAEnBT,IAAAA,mBAAmB,CAACQ,OAAD,EAAUH,GAAG,CAACK,EAAd,CAAnB;AACAT,IAAAA,oBAAoB,CAACF,eAAe,CAACM,GAAG,CAACM,GAAL,EAAUH,OAAO,CAACI,SAAlB,EAA6BP,GAAG,CAACE,IAAjC,CAAhB,EAAwD,CAACF,GAAD,CAAxD,CAApB;AAEA,WACE,MAAC,MAAD;AACE,MAAA,QAAQ,EAAEA,GAAG,CAACQ,mBADhB;AAEE,MAAA,IAAI,EAAEN,IAFR;AAGE,MAAA,IAAI,EAAED,IAHR;AAIE,MAAA,SAAS,EAAEE,OAAO,CAACM,QAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAME,MAAC,SAAD;AAAW,MAAA,SAAS,EAAET,GAAG,CAACI,IAAJ,CAASM,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CADF;AAUD;AACF,CAlBD;;GAAMX,I;UAIFJ,mB,EACAC,oB;;;KALEG,I;;AAsEN,eAAeA,IAAf","sourcesContent":["import React from 'react';\nimport { queryRepeatableDocuments } from 'utils/queries';\nimport { Client, manageLocal } from 'utils/prismicHelpers';\nimport { pageToolbarDocs } from 'utils/prismicToolbarQueries'\nimport useUpdatePreviewRef from 'utils/hooks/useUpdatePreviewRef';\nimport useUpdateToolbarDocs from 'utils/hooks/useUpdateToolbarDocs';\nimport { Layout, SliceZone } from 'components';\n\n/**\n * posts component\n */\nconst Page = ({ doc, menu, lang, preview }) => {\n\n  if (doc && doc.data) {\n\n    useUpdatePreviewRef(preview, doc.id)\n    useUpdateToolbarDocs(pageToolbarDocs(doc.uid, preview.activeRef, doc.lang), [doc])\n   \n    return (\n      <Layout\n        altLangs={doc.alternate_languages}\n        lang={lang}\n        menu={menu}\n        isPreview={preview.isActive}\n      >\n        <SliceZone sliceZone={doc.data.body} />\n      </Layout>\n    );\n  }\n};\n\nexport async function getStaticProps({\n  preview, \n  previewData,\n  params,\n  locale,\n  locales,\n}) {\n  const ref = previewData ? previewData.ref : null\n  const isPreview = preview || false\n  const client = Client();\n  const doc =\n    (await client.getByUID(\n      'page',\n      params.uid,\n      ref ? { ref, lang: locale } : { lang: locale }\n    )) || {};\n  const menu =\n    (await client.getSingle('top_menu', ref ? { ref, lang: locale } : { lang: locale })) ||\n    {};\n\n  const { currentLang, isMyMainLanguage } = manageLocal(locales, locale)\n\n  return {\n    props: {\n      menu,\n      doc,\n      preview: {\n        isActive: isPreview,\n        activeRef: ref,\n      },\n      lang:{\n        currentLang,\n        isMyMainLanguage,\n      }\n    },\n  };\n}\n\nexport async function getStaticPaths() {\n  const documents = await queryRepeatableDocuments(\n    (doc) => doc.type === 'page'\n  );\n  return {\n    paths: documents.map((doc) => {\n      return { params: { uid: doc.uid }, locale: doc.lang };\n    }),\n    fallback: false,\n  };\n}\n\nexport default Page;\n"]},"metadata":{},"sourceType":"module"}